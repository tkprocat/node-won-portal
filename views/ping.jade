extends layout

block content
  .container.fluid
    .row
      .col-md-8.col-md-offset-2
        .panel.panel-default
          .panel-heading
            h1 Status
          .panel-body
            ul(id="ping")

    script.
        $(document).ready(function() {
            ping(); 

            function ping() {
                $.post( "/ping", {host: "#{host}"}, function( data ) {
                    $("#ping").append('<li>'+ data.message + '</li>');
                    if (!data.alive) {
                        setTimeout(ping(), 5000);
                    }
                });
            }
        });
