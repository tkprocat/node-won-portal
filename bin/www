#!/usr/bin/env node
var debug = require('debug')('node_won_portal');
var app = require('../app');
var config = require('../config.js');
var https = require('https');
var http = require('http');
var fs = require('fs');
var path = require('path');

var httpsOptions = {
    key: fs.readFileSync(path.join(__dirname, "../cert/ssl.key"), "utf8"),
    cert: fs.readFileSync(path.join(__dirname, "../cert/ssl.crt"), "utf8")
};

https.createServer(httpsOptions, app).listen(config.port, function () {
    console.log('Express HTTPS server listening on port ' + config.port);
});